<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.118.2">
    <meta name="generator" content="Relearn 5.20.0">
    <meta name="description" content="站在巨人的肩膀上">
    <meta name="author" content="月明之都">
    <title>1 语法定义 :: 巨人之海</title>
    <link href="https://irscript.github.io/3_compiler/8_langdef/1_langdef/index.html" rel="canonical" type="text/html" title="1 语法定义 :: 巨人之海">
    <link href="../../../3_compiler/8_langdef/1_langdef/index.xml" rel="alternate" type="application/rss+xml" title="1 语法定义 :: 巨人之海"><link rel="icon" href="../../../images/favicon.png" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="../../../css/fontawesome-all.min.css?1696850783" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fontawesome-all.min.css?1696850783" rel="stylesheet"></noscript>
    <link href="../../../css/nucleus.css?1696850783" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1696850783" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/auto-complete.css?1696850783" rel="stylesheet"></noscript>
    <link href="../../../css/perfect-scrollbar.min.css?1696850783" rel="stylesheet">
    <link href="../../../css/fonts.css?1696850783" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fonts.css?1696850783" rel="stylesheet"></noscript>
    <link href="../../../css/theme.css?1696850783" rel="stylesheet">
    <link href="../../../css/theme-auto.css?1696850783" rel="stylesheet" id="variant-style">
    <link href="../../../css/variant.css?1696850783" rel="stylesheet">
    <link href="../../../css/print.css?1696850783" rel="stylesheet" media="print">
    <link href="../../../css/format-print.css?1696850783" rel="stylesheet">
    <link href="../../../css/ie.css?1696850783" rel="stylesheet">
    <script src="../../../js/url.js?1696850783"></script>
    <script src="../../../js/variant.js?1696850783"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="../../../index.search.js";
      var root_url="../../../";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = '复制到剪贴板';
      window.T_Copied_to_clipboard = '复制到剪贴板！';
      window.T_Copy_link_to_clipboard = '将链接复制到剪贴板';
      window.T_Link_copied_to_clipboard = '链接复制到剪贴板！';
      window.T_No_results_found = '找不到\u0022{0}\u0022的结果';
      window.T_N_results_found = '为\u0022{0}\u0022找到 {1} 个结果';
      // some further base stuff
      var baseUriFull='https:\/\/irscript.github.io/';
      window.variants && variants.init( [ 'auto', 'relearn-bright', 'relearn-light', 'relearn-dark', 'zen-light', 'zen-dark', 'neon', 'learn', 'blue', 'green', 'red' ] );
    </script>
  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../3_compiler/8_langdef/1_langdef/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='导航 (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../index.html"><span itemprop="name">主页</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../3_compiler/index.html"><span itemprop="name">编译原理</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../3_compiler/8_langdef/index.html"><span itemprop="name">8 语言定义</span></a><meta itemprop="position" content="3"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">1 语法定义</span><meta itemprop="position" content="4"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="1-语法定义">1 语法定义</h1>

<p>语法使用非严格的EBNF语法描述。</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>文件单元
FileUnit = PkgDef (ImportDef) Decl*

包定义
PkgDef = package ID (.ID)*

依赖导入(可选)
ImportDef = &#39;import&#39; STRING as ID; |&#39;{&#39; (STRING as ID; )* &#39;}&#39;
声明定义
Decl = ScopeDecl | VarDecl | FuncDecl | EnumDecl | StructDecl | UnionDecl | InterfaceDecl | ClassDecl | EntrustDecl | ~

表达式
Exp = BaseExp | DotExp | UnaryExp | BinaryExp | TernaryExp | NewExp | PriorityExp

基础表达式
BaseExp = IDExp | ConstExp | CallExp | ArrarExp | ThisExp | SuperExp
IDExp = ID
ConstExp = c
CallExp = ID &#39;(&#39; ArgList&#39;)&#39;
ArrarExp = ID &#39;[&#39; Exp &#39;]&#39;
ThisExp = &#39;this&#39;
SuperExp = &#39;super&#39;

成员访问表达式
DotExp = BaseExp ( &#39;.&#39; BaseExp)*  //BaseExp不得是ConstExp

一元表达式
UnaryExp = UnaryOP BaseExp
UnaryOP = &#39;-&#39; | &#39;+&#39; | &#39;--&#39; | &#39;++&#39; | &#39;~&#39; | &#39;!&#39;
二元表达式
BinaryExp = Exp BinaryOP Exp
BinaryOP = &#39;+&#39; | &#39;-&#39; | &#39;*&#39; | &#39;/&#39; | &#39;%&#39; |
            &#39;&amp;&#39; | &#39;|&#39; | &#39;&amp;&amp;&#39; | &#39;||&#39; |
            &#39;&lt;&lt;&#39; | &#39;&gt;&gt;&#39; | &#39;&gt;&gt;&gt;&#39; |
            &#39;&lt;&#39; | &#39;&gt;&#39; | &#39;&lt;=&#39; | &#39;&gt;=&#39; |
            &#39;==&#39; | &#39;!=&#39; | &#39;=&#39; |
            
三元表达式
TernaryExp = Exp &#39;?&#39; Exp &#39;:&#39; Exp

括号表达式
PriorityExp = &#39;(&#39; Exp &#39;)&#39;

作用域声明
ScopeDecl = ( &#39;public&#39; | &#39;protected&#39; | &#39;private&#39; ) &#39;:&#39;

变量声明
VarDecl = Scope Type &#39;id&#39; [=initExp] &#39;;&#39;
Scope = [&#39;public&#39; | &#39;protected&#39; | &#39;private&#39;| &#39;extern&#39; | &#39;static&#39;] 
Type = [&#39;const&#39; ] &#39;id&#39;( &#39;.&#39; &#39;id&#39;)*

代理变量
Scope Type &#39;id&#39;&#39;(&#39; [ arglist] &#39;)&#39; &#39;delegate&#39; &#39;;&#39;

闭包变量
Scope Type &#39;id&#39;&#39;(&#39; [ arglist] &#39;)&#39; &#39;closure&#39; &#39;;&#39;

函数申明
VarDecl = Scope Type &#39;id&#39;&#39;(&#39; [ arglist] &#39;)&#39;[@override] [@cfun] [const] [final] (&#39;;&#39; |  funbody )
arglist = argitem (&#39;,&#39; argitem)*
argitem = type [&#39;id&#39;]
funbody = BlkState
BlkState = &#39;{&#39; [Statement] &#39;}&#39;
Statement = ( BlkState | ExpState | IfState | ElseifState |
			ElseState | SwitchState | ForState | DoState |
			WhileState | GotoState | BreakState | ContinueState |
			ReturnState )*
	

TypeDecl = EnumDecl | StructDecl |  UnionDecl |EntrustDecl
FuncDecl = Type &#39;id&#39;&#39;(&#39; [ arglist] &#39;)&#39; &#39;=&#39; Serial
	Serial = &#39;u32&#39;
	枚举声明
	EnumDecl = &#39;enum&#39; id [: BaseType]&#39;{&#39; EnumItem* &#39;}&#39;
	BaseType = 基本整数类型
	EnumItem = &#39;id&#39;[=initExp] &#39;,&#39;</code></pre></div>
            <footer class="footline">

            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="../../../js/clipboard.min.js?1696850783" defer></script>
    <script src="../../../js/perfect-scrollbar.min.js?1696850783" defer></script>
    <script src="../../../js/theme.js?1696850783" defer></script>
  </body>
</html>
